{
  "_comment": "Worker Deployment Configuration",
  "schema_version": 1,

  "workers": {
    "inference3090": {
      "device_id": "inference3090",
      "hostname": "192.168.x.x",
      "port": 8900,
      "type": "eval",
      "roles": ["eval_worker"],
      "env": {
        "TRAINING_DEVICE_ID": "inference3090",
        "INFERENCE_URL": "http://localhost:8765"
      },
      "max_concurrent": 1,
      "enabled": true,
      "notes": "Runs on same machine as inference server"
    },

    "macmini_eval_1": {
      "device_id": "macmini_eval_1",
      "hostname": "macmini-eval-1.local",
      "port": 8900,
      "type": "eval",
      "roles": ["eval_worker", "data_forge"],
      "env": {
        "TRAINING_DEVICE_ID": "macmini_eval_1",
        "INFERENCE_URL": "http://192.168.x.x:8765"
      },
      "max_concurrent": 2,
      "enabled": false,
      "notes": "Mac Mini - needs remote inference access"
    },

    "macmini_forge_1": {
      "device_id": "macmini_forge_1",
      "hostname": "macmini-forge-1.local",
      "port": 8900,
      "type": "data_forge",
      "roles": ["data_forge", "vault_worker"],
      "env": {
        "TRAINING_DEVICE_ID": "macmini_forge_1",
        "DATA_FORGE_OUTPUT": "/Users/user/data_forge/output"
      },
      "max_concurrent": 3,
      "enabled": false,
      "notes": "Mac Mini - data generation only"
    }
  },

  "defaults": {
    "port": 8900,
    "max_concurrent": 1,
    "heartbeat_interval": 30,
    "job_timeout": 3600
  },

  "coordinator": {
    "host": "192.168.x.x",
    "vault_api": "http://192.168.x.x:8767/api",
    "tavern_url": "http://192.168.x.x:8888"
  },

  "_notes": [
    "Worker types:",
    "  - eval: Handles EVAL and SPARRING jobs (needs inference access)",
    "  - data_forge: Handles DATA_GEN and DATA_FILTER jobs (CPU only)",
    "",
    "To deploy a worker:",
    "  1. Copy workers/ directory to remote machine",
    "  2. Set environment variables from 'env' section",
    "  3. Run: python3 -m workers.eval_worker --port 8900",
    "",
    "Workers register with coordinator via heartbeat"
  ]
}
