# Sparring System Training Data Contract
#
# Self-correction training data generated by the sparring system.
# Contains model mistakes with corrections - high-value training signal.

id: sparring_v1
version: "1"
description: |
  Self-correction training data from sparring sessions.
  Each example contains a model mistake, identification of the error,
  and the correct solution. Teaches self-correction behavior.

kind: jsonl

schema:
  messages: list
  type: str
  skill: str
  level: int
  session_id: str
  checkpoint: str

required_fields:
  - messages

optional_fields:
  - type
  - skill
  - level
  - session_id
  - checkpoint

invariants:
  - "messages contains multi-turn correction dialogue"
  - "type is one of: sparring_identify_incorrect, sparring_correction, sparring_confirm_correct"
  - "skill matches the sparring session skill"

# Sparring data is expensive to generate, so we're stricter
max_invalid_fraction: 0.005

safety_profile: internal

# Skill varies per session - check both
skill_id: null
eval_leakage_guard: null

task_tags:
  - sparring
  - self_correction
  - active_learning
  - high_priority
